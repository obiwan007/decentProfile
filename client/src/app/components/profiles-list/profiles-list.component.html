<div class="mat-elevation-z8">
  <mat-list class="wrapper full-width-table">
    <div>

      <mat-form-field class="mr-1" style="width:128px;">
        <mat-label>Filter</mat-label>
        <mat-select panelWidth="180px" matInput multiple (selectionChange)="filterForBeverage($event)">

          <mat-optgroup label="Type">
            @for (food of types; track food) {
            <mat-option [value]="{value: food, groupValue: 'type'}">{{food}}</mat-option>
            }
          </mat-optgroup>

          <mat-optgroup label="Beverage">
            @for (food of beverages; track food) {

            <mat-option [value]="{value: food, groupValue: 'beverage'}">{{food}}</mat-option>

            }
          </mat-optgroup>

          <mat-optgroup label="authors">
            @for (food of authors; track food) {
            <mat-option [value]="{value: food, groupValue: 'author'}">{{food}}</mat-option>
            }
          </mat-optgroup>
        </mat-select>
      </mat-form-field>


    </div>
    <mat-list-item (click)="onRowClicked(row)" [ngClass]="{'highlight': selectedProfile?.id == row.id}"
                   *ngFor="let row of dataSource.connect()| async">

      <mat-icon matListItemIcon>
        {{row.beverage_type=='espresso' ? 'coffee' :
        row.beverage_type=='pourover'? 'coffee_maker' :
        row.beverage_type=='filter'? 'filter_list_alt' :
        row.beverage_type=='cleaning'?'cleaning_services' : 'star' }}
      </mat-icon>
      <div matLine>{{row.title}} <mat-icon *ngIf="row.isDefault">star</mat-icon>
        <mat-icon *ngIf="row.isPublic">accessibility</mat-icon>
      </div>
      <div matLine>{{row.type}} {{row.beverage_type}} by {{row.author}}

      </div>


    </mat-list-item>
  </mat-list>


  <mat-paginator #paginator
                 [pageSize]="pageSize"
                 [length]="dataSource.maxlength"
                 aria-label="Select page">
  </mat-paginator>
</div>